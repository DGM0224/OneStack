<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/main_layout}">
<head>
<link th:href="@{/css/joinForm.css}" rel="stylesheet">
<link th:href="@{/css/login.css}" rel="stylesheet">
	<style>
		.alert-danger {
            position: absolute;
            top: -40px;
            left: 50%;
            transform: translateX(-50%);
            color: red;
            font-size: 14px;
            text-align: center;
            width: 100%;
        }
	</style>
</head>
<body>
	<th:block>
		<div layout:fragment="content"
			class="d-flex justify-content-center align-items-center"
			style="min-height: 90vh;">
			<div class="d-flex justify-content-center align-items-center vh-80">
				<div class="container text-center">
					<h3 class="fw-bold mb-3">로 그 인</h3>
					<p class="text-muted mb-3">쉽고 간편한 외주 서비스</p>
					<div class="card" style="width: 100%; max-width: 500px;">
						<div th:if="${param.error}" class="alert alert-danger">
							<p th:if="${param.error[0] == 'not_found'}">회원 정보를 찾을 수 없습니다.</p>
							<p th:if="${param.error[0] == 'deactivated'}">정지된 계정입니다.</p>
							<p th:if="${param.error[0] == 'suspended'}">정지된 계정입니다.</p>
							<p th:if="${param.error[0] == 'withdrawn'}">탈퇴한 계정입니다.</p>
							<p th:if="${param.error[0] != 'not_found' and param.error[0] != 'deactivated' and param.error[0] != 'suspended' and param.error[0] != 'withdrawn'}">
								로그인 실패: 아이디 또는 비밀번호를 확인하세요.
							</p>
						</div>
						<form id="loginForm" action="login" method="post">
							<div class="form-floating mb-3">
								<input type="text" class="form-control" id="memberId"
									name="memberId" placeholder="아이디" required> <label
									for="memberId">아이디</label>
							</div>
							<div class="form-floating mb-4">
								<input type="password" class="form-control" id="pass"
									name="pass" placeholder="비밀번호" required> <label
									for="pass">비밀번호</label>
							</div>

							<div class="text-center mb-3">
								<a href="/findId" class="text-decoration-none me-3">아이디찾기</a>
								<a href="/findPass" class="text-decoration-none">비밀번호찾기</a>
							</div>

							<button type="submit" class="btn btn-primary w-100 mb-3">로그인</button>
						</form>
						<div class="text-center mt-3">
							<p>
								아직 회원이 아니신가요? <a href="joinForm"
									class="text-primary text-decoration-none">회원가입</a>
							</p>
						</div>
						<hr>
						<!-- 소셜 로그인 버튼 -->
						<div class="social-login mb-4">
							<a href="https://kauth.kakao.com/oauth/authorize?response_type=code&client_id=c923a3984c012a5e50b26dd7f73103b1&redirect_uri=https://www.onestack.store/oauth/kakao/callback&scope=profile_nickname,profile_image&prompt=login consent"
								class="social-btn kakao-btn">
								<div class="social-btn-content">
									<img src="https://www.kakao.com/favicon.ico" alt="카카오" style="width: 20px;">
									<span>카카오로 계속하기</span>
								</div>
							</a>
							<a href="/oauth2/authorization/google"
								class="social-btn google-btn">
								<div class="social-btn-content">
									<img src="https://www.google.com/favicon.ico" alt="구글" style="width: 20px;">
									<span>Google로 계속하기</span>
								</div>
							</a>
						</div>
					</div>
				</div>
			</div>
		</div>
	</th:block>
</body>
</html>